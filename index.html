<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AÅŸk Oyunu ðŸ’–</title>

<style>
body{
margin:0;
overflow:hidden;
background:linear-gradient(#ffd6eb,#ffc0cb);
}

canvas{
display:block;
}
</style>
</head>
<body>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let score = 0;
let combo = 0;
let hearts = [];
let particles = [];
let gameFinished = false;

/* kalp oluÅŸtur */
function spawnHeart(){
hearts.push({
x: Math.random()*canvas.width,
y: Math.random()*canvas.height*0.7,
size:40,
pulse:0,
hit:false
});
}

/* baÅŸlangÄ±Ã§ kalbi */
spawnHeart();

/* kalp Ã§iz */
function drawHeart(x,y,size,scale){
ctx.save();
ctx.translate(x,y);
ctx.scale(scale,scale);
ctx.beginPath();
ctx.moveTo(0,0);
ctx.bezierCurveTo(0,-size/2,-size,-size/2,-size,0);
ctx.bezierCurveTo(-size,size/2,0,size,0,size);
ctx.bezierCurveTo(0,size,size,size/2,size,0);
ctx.bezierCurveTo(size,-size/2,0,-size/2,0,0);
ctx.fillStyle="#ff4d6d";
ctx.fill();
ctx.restore();
}

/* karakter Ã§iz */
function drawCharacter(){
let x = canvas.width/2;
let y = canvas.height-140;

/* saÃ§ */
ctx.fillStyle="#ffd54f";
ctx.beginPath();
ctx.arc(x,y,30,0,Math.PI*2);
ctx.fill();

/* yÃ¼z */
ctx.fillStyle="#ffe0b2";
ctx.beginPath();
ctx.arc(x,y+5,20,0,Math.PI*2);
ctx.fill();

/* kazak */
ctx.fillStyle="#d48aff";
ctx.fillRect(x-40,y+20,80,70);

/* ayÄ±cÄ±k */
ctx.fillStyle="#c79a63";
ctx.beginPath();
ctx.arc(x,y+55,10,0,Math.PI*2);
ctx.fill();

/* pantolon */
ctx.fillStyle="#333";
ctx.fillRect(x-25,y+90,50,40);

/* ayakkabÄ± */
ctx.fillStyle="#fff";
ctx.fillRect(x-30,y+130,25,15);
ctx.fillRect(x+5,y+130,25,15);
}

/* patlama efekti */
function explode(x,y){
for(let i=0;i<10;i++){
particles.push({
x:x,
y:y,
dx:(Math.random()-0.5)*4,
dy:(Math.random()-0.5)*4,
life:30
});
}
}

/* tÄ±klama */
canvas.addEventListener("click",e=>{
if(gameFinished) return;

let rect = canvas.getBoundingClientRect();
let mx = e.clientX-rect.left;
let my = e.clientY-rect.top;

hearts.forEach(h=>{
if(!h.hit){
let dx = mx-h.x;
let dy = my-h.y;
if(Math.sqrt(dx*dx+dy*dy)<40){
h.hit=true;
score++;
combo++;
explode(h.x,h.y);

if(score<20) spawnHeart();
if(score>=20) gameFinished=true;
}
}
});
});

/* animasyon */
function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);

/* kalpler */
hearts.forEach(h=>{
if(!h.hit){
h.pulse+=0.05;
let scale = 1+Math.sin(h.pulse)*0.1;
drawHeart(h.x,h.y,20,scale);
}
});

/* parÃ§acÄ±k */
particles.forEach(p=>{
p.x+=p.dx;
p.y+=p.dy;
p.life--;
ctx.fillStyle="#ff85a2";
ctx.fillRect(p.x,p.y,4,4);
});
particles = particles.filter(p=>p.life>0);

/* karakter */
drawCharacter();

/* skor */
ctx.fillStyle="#fff";
ctx.font="20px Arial";
ctx.fillText("Kalp: "+score+"/20",20,30);
ctx.fillText("Combo: "+combo,20,60);

/* bitiÅŸ */
if(gameFinished){
ctx.fillStyle="rgba(0,0,0,0.5)";
ctx.fillRect(0,0,canvas.width,canvas.height);

ctx.fillStyle="#fff";
ctx.font="40px Arial";
ctx.textAlign="center";
ctx.fillText("MESAJ BURAYA GELECEK",canvas.width/2,canvas.height/2);
}

requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
